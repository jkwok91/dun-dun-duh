{% extends "layout.html" %}

{% block body %}
<h1>DUN, DUN, DUH!</h1>
<h2 style="text-align: center;">Dramatic Stats</h2>

<table style="margin: 30px 0;">
	<tbody>
		<tr>
			<th style="padding-right: 40px;">Total Created</th>
			<td style="text-align: right;">{{ all_time_created }}</td>
		</tr>
		<tr>
			<th style="padding-right: 40px;">Total Failures</th>
			<td style="text-align: right;">{{ all_time_failed }}</td>
		</tr>
		<tr>
			<th style="padding-right: 40px;">Average Creation Time</th>
			<td style="text-align: right;">{{ "%.3f" % all_time_average }} seconds</td>
		</tr>
	</tbody>
</table>

<h3>Processing Times</h3>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Average Rendering Times, Last Hour</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #000; width: 10px; height: 10px; display: inline-block;"></div> Total<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Queue Wait<br/>
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Rendering<br/>
		<div style="background: #0F0; width: 10px; height: 10px; display: inline-block;"></div> Storing<br/>
	</div>
	<canvas id="averages_hour" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Average Rendering Times, Last 24 Hours</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #000; width: 10px; height: 10px; display: inline-block;"></div> Total<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Queue Wait<br/>
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Rendering<br/>
		<div style="background: #0F0; width: 10px; height: 10px; display: inline-block;"></div> Storing<br/>
	</div>
	<canvas id="averages_day" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Average Rendering Times, This Week</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #000; width: 10px; height: 10px; display: inline-block;"></div> Total<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Queue Wait<br/>
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Rendering<br/>
		<div style="background: #0F0; width: 10px; height: 10px; display: inline-block;"></div> Storing<br/>
	</div>
	<canvas id="averages_week" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

<h3>Processing Totals</h3>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Total Processed, Last Hour</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Completed<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Failed<br/>
	</div>
	<canvas id="processed_hour" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Total Processed, Last 24 Hours</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Completed<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Failed<br/>
	</div>
	<canvas id="processed_day" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

<div style="background: #FFF; padding: 10px 20px; width: 900px; border: 1px solid #444; border-radius: 5px;">
	<h4 style="color: #444; text-shadow: none;">Total Processed, This Week</h4>
	<div style="float: right; margin: 0 10px; color: #444;">
		<div style="background: #00F; width: 10px; height: 10px; display: inline-block;"></div> Completed<br/>
		<div style="background: #F00; width: 10px; height: 10px; display: inline-block;"></div> Failed<br/>
	</div>
	<canvas id="processed_week" width="700" height="400"></canvas>
	<div style="clear: both;"></div>
</div>

{% endblock %}

{% block script %}
<script src="{{ url_for("static", filename="vendor/Chart.min.js") }}"></script>
<script>
	(function () {
		var defaults = {animation: false, datasetFill: false, scaleFontColor: "#444", pointDot: false};
		new Chart(document.getElementById("averages_hour").getContext("2d")).Line({{averages_hour|safe}}, defaults);
		new Chart(document.getElementById("averages_day").getContext("2d")).Line({{averages_day|safe}}, defaults);
		new Chart(document.getElementById("averages_week").getContext("2d")).Line({{averages_week|safe}}, defaults);
		new Chart(document.getElementById("processed_hour").getContext("2d")).Line({{processed_hour|safe}}, defaults);
		new Chart(document.getElementById("processed_day").getContext("2d")).Line({{processed_day|safe}}, defaults);
		new Chart(document.getElementById("processed_week").getContext("2d")).Line({{processed_week|safe}}, defaults);
	}());
</script>
{% endblock %}
